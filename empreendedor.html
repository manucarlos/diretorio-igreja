<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes do Empreendedor - Diretório de Serviços</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #3a5a97;
            --secondary-color: #f8f9fa;
            --accent-color: #e3a04b;
            --text-color: #333;
            --light-text: #f8f9fa;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-color);
            background-color: #f5f7fa;
        }
        
        .header {
            background-color: var(--primary-color);
            color: var(--light-text);
            padding: 1.5rem 0;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .back-link {
            color: var(--light-text);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            margin-bottom: 1rem;
            font-weight: 500;
            transition: opacity 0.3s ease;
        }
        
        .back-link:hover {
            opacity: 0.8;
            color: var(--light-text);
        }
        
        .entrepreneur-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        
        .entrepreneur-header {
            background-color: var(--primary-color);
            color: white;
            padding: 2rem;
            position: relative;
        }
        
        .entrepreneur-logo {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid white;
            margin-right: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .entrepreneur-title {
            font-weight: 700;
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }
        
        .entrepreneur-category {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 0.3rem 1rem;
            border-radius: 50px;
            font-size: 0.9rem;
            display: inline-block;
        }
        
        .entrepreneur-body {
            padding: 2rem;
        }
        
        .section-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
            display: inline-block;
        }
        
        .entrepreneur-description {
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .price-tag {
            background-color: var(--accent-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 2rem;
        }
        
        .contact-link {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            color: var(--text-color);
            text-decoration: none;
            transition: transform 0.3s ease;
        }
        
        .contact-link:hover {
            transform: translateX(5px);
            color: var(--primary-color);
        }
        
        .contact-icon {
            width: 40px;
            height: 40px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
        }
        
        .whatsapp-section {
            background-color: #f8f9fa;
            padding: 2rem;
            border-radius: 10px;
            margin-top: 2rem;
        }
        
        .whatsapp-hidden {
            background-color: #e9ecef;
            padding: 1rem;
            border-radius: 5px;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .whatsapp-form {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .form-control {
            border-radius: 5px;
            padding: 0.8rem 1rem;
            margin-bottom: 1rem;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            border-radius: 5px;
            padding: 0.8rem 1.5rem;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }
        
        .btn-primary:hover {
            background-color: #2d4a7d;
            border-color: #2d4a7d;
        }
        
        .whatsapp-revealed {
            display: none;
            text-align: center;
            padding: 1rem;
            background-color: #d4edda;
            border-radius: 5px;
            margin-top: 1rem;
        }
        
        .whatsapp-button {
            background-color: #25d366;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 0.8rem 1.5rem;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            margin-top: 1rem;
            transition: background-color 0.3s ease;
        }
        
        .whatsapp-button:hover {
            background-color: #128c7e;
            color: white;
        }
        
        .footer {
            background-color: var(--primary-color);
            color: var(--light-text);
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
        }
        
        .footer p {
            margin-bottom: 0;
        }
        
        @media (max-width: 768px) {
            .entrepreneur-header {
                padding: 1.5rem;
                text-align: center;
            }
            
            .entrepreneur-logo {
                margin-right: 0;
                margin-bottom: 1rem;
            }
            
            .entrepreneur-title {
                font-size: 1.5rem;
            }
            
            .entrepreneur-body {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <a href="index.html" class="back-link">
                <i class="fas fa-arrow-left me-2"></i> Voltar para categorias
            </a>
            <h1><i class="fas fa-church me-2"></i> Diretório de Serviços</h1>
            <p>Detalhes do Empreendedor</p>
        </div>
    </header>

    <main class="container" id="entrepreneur-container">
        <div id="loading" class="loading">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; <span id="current-year"></span> Diretório de Serviços da Igreja. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Sample entrepreneurs data (will be replaced with data from Google Sheets)
        const entrepreneurs = {
            'cab1': {
                id: 'cab1',
                name: 'Salão Beleza Divina',
                category: 'Cabeleireiros',
                description: 'Especializado em cortes femininos, masculinos e infantis. Coloração, hidratação e penteados para eventos. Atendimento personalizado e ambiente acolhedor. Trabalhamos com produtos de alta qualidade e oferecemos um serviço diferenciado para nossos clientes. Agende seu horário e venha conhecer!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 30,00',
                instagram: '@belezadivina',
                website: 'https://example.com',
                whatsapp: '5511999999999'
            },
            'cab2': {
                id: 'cab2',
                name: 'Barbearia Graça',
                category: 'Cabeleireiros',
                description: 'Cortes masculinos, barba, bigode e sobrancelha. Ambiente agradável e atendimento personalizado. Oferecemos bebidas e um ambiente descontraído para nossos clientes. Trabalhamos com agendamento e também atendemos por ordem de chegada. Venha conhecer nosso espaço!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 25,00',
                instagram: '@barbeariagracaoficial',
                website: '',
                whatsapp: '5511988888888'
            },
            'ped1': {
                id: 'ped1',
                name: 'Construções Fé',
                category: 'Pedreiros',
                description: 'Serviços de construção, reforma, acabamento e pintura. Orçamento sem compromisso. Equipe qualificada e comprometida com a qualidade do serviço. Atendemos residências, comércios e indústrias. Entre em contato para mais informações e orçamentos.',
                logo: 'https://via.placeholder.com/150',
                prices: 'Sob consulta',
                instagram: '@construcoesfe',
                website: '',
                whatsapp: '5511977777777'
            },
            'bol1': {
                id: 'bol1',
                name: 'Bolos da Graça',
                category: 'Boleiras',
                description: 'Bolos artesanais para festas, casamentos e eventos. Sabores tradicionais e especiais. Trabalhamos com encomendas e entregamos em toda a cidade. Nossos bolos são feitos com ingredientes selecionados e muito amor. Faça sua encomenda com antecedência!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 60,00/kg',
                instagram: '@bolosdagraca',
                website: 'https://example.com',
                whatsapp: '5511966666666'
            },
            'bol2': {
                id: 'bol2',
                name: 'Doce Bênção',
                category: 'Boleiras',
                description: 'Bolos decorados, naked cake, chantininho e pasta americana. Aceitamos encomendas. Especializada em bolos para festas infantis, casamentos e eventos corporativos. Também trabalhamos com docinhos, cupcakes e outras delícias. Entre em contato para mais informações!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 50,00/kg',
                instagram: '@docebencao',
                website: '',
                whatsapp: '5511955555555'
            },
            'doc1': {
                id: 'doc1',
                name: 'Doces Divinos',
                category: 'Doces e Guloseimas',
                description: 'Brigadeiros, beijinhos, cajuzinhos e doces finos para festas e eventos. Trabalhamos com encomendas para festas, casamentos e eventos corporativos. Nossos doces são feitos com ingredientes de qualidade e muito carinho. Faça sua encomenda!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 2,50/unidade',
                instagram: '@docesdivinos',
                website: '',
                whatsapp: '5511944444444'
            },
            'cos1': {
                id: 'cos1',
                name: 'Ateliê Bênção',
                category: 'Costura e Artesanato',
                description: 'Confecção e ajustes de roupas, cortinas e artigos de decoração. Trabalhamos com tecidos de qualidade e oferecemos um serviço personalizado. Atendemos sob medida e fazemos reparos em geral. Entre em contato para mais informações!',
                logo: 'https://via.placeholder.com/150',
                prices: 'Sob consulta',
                instagram: '@ateliebencao',
                website: '',
                whatsapp: '5511933333333'
            },
            'inf1': {
                id: 'inf1',
                name: 'Suporte Técnico Cristão',
                category: 'Informática',
                description: 'Manutenção de computadores, instalação de programas e aulas de informática. Atendemos em domicílio ou em nossa loja. Trabalhamos com equipamentos de todas as marcas e oferecemos um serviço de qualidade. Entre em contato para mais informações!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 50,00',
                instagram: '@suportecristao',
                website: 'https://example.com',
                whatsapp: '5511922222222'
            },
            'sau1': {
                id: 'sau1',
                name: 'Consultório Vida Plena',
                category: 'Saúde e Bem-estar',
                description: 'Atendimento psicológico, nutricional e fisioterapêutico. Trabalhamos com uma equipe multidisciplinar para oferecer um atendimento completo. Consultas presenciais e online. Entre em contato para mais informações!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 100,00/consulta',
                instagram: '@vidaplena',
                website: 'https://example.com',
                whatsapp: '5511911111111'
            },
            'edu1': {
                id: 'edu1',
                name: 'Aulas Particulares Sabedoria',
                category: 'Educação',
                description: 'Reforço escolar, preparação para vestibular e concursos. Atendemos alunos de todas as idades e níveis de ensino. Aulas presenciais e online. Entre em contato para mais informações!',
                logo: 'https://via.placeholder.com/150',
                prices: 'A partir de R$ 40,00/hora',
                instagram: '@aulassabedoria',
                website: '',
                whatsapp: '5511900000000'
            }
        };

        // Function to get URL parameters
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Function to load entrepreneur details
        function loadEntrepreneurDetails() {
            const entrepreneurId = getUrlParameter('id');
            const entrepreneurContainer = document.getElementById('entrepreneur-container');
            
            if (!entrepreneurId || !entrepreneurs[entrepreneurId]) {
                entrepreneurContainer.innerHTML = `
                    <div class="alert alert-danger">
                        Empreendedor não encontrado. <a href="index.html">Voltar para a página inicial</a>
                    </div>
                `;
                document.getElementById('loading').style.display = 'none';
                return;
            }
            
            const entrepreneur = entrepreneurs[entrepreneurId];
            
            // Update page title
            document.title = `${entrepreneur.name} - Diretório de Serviços`;
            
            // Create entrepreneur details HTML
            const entrepreneurHTML = `
                <div class="entrepreneur-card">
                    <div class="entrepreneur-header">
                        <div class="d-flex flex-column flex-md-row align-items-md-center">
                            <img src="${entrepreneur.logo}" alt="${entrepreneur.name}" class="entrepreneur-logo">
                            <div>
                                <h2 class="entrepreneur-title">${entrepreneur.name}</h2>
                                <span class="entrepreneur-category">${entrepreneur.category}</span>
                            </div>
                        </div>
                    </div>
                    <div class="entrepreneur-body">
                        <h3 class="section-title">Sobre</h3>
                        <p class="entrepreneur-description">${entrepreneur.description}</p>
                        
                        ${entrepreneur.prices ? `<div class="price-tag"><i class="fas fa-tag me-2"></i> ${entrepreneur.prices}</div>` : ''}
                        
                        <h3 class="section-title">Contato</h3>
                        <div class="row">
                            ${entrepreneur.website ? `
                                <div class="col-md-6">
                                    <a href="${entrepreneur.website}" target="_blank" class="contact-link">
                                        <div class="contact-icon">
                                            <i class="fas fa-globe"></i>
                                        </div>
                                        <div>
                                            <strong>Website</strong>
                                            <p class="mb-0">${entrepreneur.website}</p>
                                        </div>
                                    </a>
                                </div>
                            ` : ''}
                            
                            ${entrepreneur.instagram ? `
                                <div class="col-md-6">
                                    <a href="https://instagram.com/${entrepreneur.instagram.replace('@', '')}" target="_blank" class="contact-link">
                                        <div class="contact-icon">
                                            <i class="fab fa-instagram"></i>
                                        </div>
                                        <div>
                                            <strong>Instagram</strong>
                                            <p class="mb-0">${entrepreneur.instagram}</p>
                                        </div>
                                    </a>
                                </div>
                            ` : ''}
                        </div>
                        
                        <div class="whatsapp-section">
                            <h3 class="section-title">WhatsApp</h3>
                            <div class="whatsapp-hidden">
                                <i class="fas fa-lock me-2"></i> O número de WhatsApp está protegido
                            </div>
                            
                            <div id="whatsapp-form" class="whatsapp-form">
                                <p>Para ver o número de WhatsApp, por favor preencha os campos abaixo:</p>
                                <form id="contact-form">
                                    <div class="mb-3">
                                        <label for="name" class="form-label">Seu Nome</label>
                                        <input type="text" class="form-control" id="name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="whatsapp" class="form-label">Seu WhatsApp</label>
                                        <input type="tel" class="form-control" id="whatsapp" placeholder="Ex: 11999999999" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary w-100">Ver WhatsApp</button>
                                </form>
                            </div>
                            
                            <div id="whatsapp-revealed" class="whatsapp-revealed">
                                <p><strong>WhatsApp revelado!</strong></p>
                                <p id="whatsapp-number"></p>
                                <a id="whatsapp-link" href="#" target="_blank" class="whatsapp-button">
                                    <i class="fab fa-whatsapp me-2"></i> Conversar no WhatsApp
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Hide loading and show entrepreneur details
            document.getElementById('loading').style.display = 'none';
            entrepreneurContainer.innerHTML = entrepreneurHTML;
            
            // Add event listener to the form
            document.getElementById('contact-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('name').value;
                const userWhatsapp = document.getElementById('whatsapp').value;
                
                // Simular o salvamento dos dados (em uma implementação real, isso seria enviado para o Google Apps Script)
                console.log('Dados do usuário:', {
                    name,
                    whatsapp: userWhatsapp,
                    entrepreneurId,
                    entrepreneurName: entrepreneur.name,
                    timestamp: new Date().toISOString()
                });
                
                // Revelar o WhatsApp
                revealWhatsapp(entrepreneur.whatsapp);
            });
        }

        // Function to reveal WhatsApp number
        function revealWhatsapp(whatsappNumber) {
            document.getElementById('whatsapp-form').style.display = 'none';
            document.getElementById('whatsapp-revealed').style.display = 'block';
            
            // Format WhatsApp number for display
            const formattedNumber = formatWhatsappNumber(whatsappNumber);
            document.getElementById('whatsapp-number').textContent = formattedNumber;
            
            // Set WhatsApp link
            const whatsappLink = `https://wa.me/${whatsappNumber}`;
            document.getElementById('whatsapp-link').href = whatsappLink;
        }

        // Function to format WhatsApp number for display
        function formatWhatsappNumber(number) {
            // Remove any non-digit characters
            const digits = number.replace(/\D/g, '');
            
            // Format based on Brazilian phone number pattern
            if (digits.length === 13 && digits.startsWith('55')) {
                // +55 (XX) XXXXX-XXXX
                return `+${digits.substring(0, 2)} (${digits.substring(2, 4)}) ${digits.substring(4, 9)}-${digits.substring(9)}`;
            } else if (digits.length === 11) {
                // (XX) XXXXX-XXXX
                return `(${digits.substring(0, 2)}) ${digits.substring(2, 7)}-${digits.substring(7)}`;
            } else {
                return number;
            }
        }

        // Load entrepreneur details when the page is loaded
        document.addEventListener('DOMContentLoaded', loadEntrepreneurDetails);
    </script>
</body>
</html>

